import { Aggregate, EventSourcableAggregate } from '@sclable/nestjs-es-cqrs'

import { Parameter } from './parameter'
import { schematicTestEvents, TestDataAdded, TestDataRemoved } from './events'
import { UpdateParameter } from "../update-parameter"

@EventSourcableAggregate(...schematicTestEvents)
export class SchematicTest extends Aggregate {
  public addTestData(param1: string, param2: number, param3: Parameter): void {
    this.applyEvent(TestDataAdded, { param1, param2, param3 })
  }

  public onTestDataAdded(_event: TestDataAdded): void {
    /* no-op */
  }

  public removeTestData(param1: string, param2: number, param3: UpdateParameter): void {
    this.applyEvent(TestDataRemoved, { param1, param2, param3 })
  }

  public onTestDataRemoved(_event: TestDataRemoved): void {
    /* no-op */
  }
}
